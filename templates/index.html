<!DOCTYPE html>

<html lang="kk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A|B —Ç–∞“ì–∞–º –∂–µ—Ç–∫—ñ–∑—É</title>
<!-- MONTSERRAT “ö–ê–†–Ü–ü–Ü–ù –ñ“Æ–ö–¢–ï–£ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
        body { font-family: 'Montserrat', sans-serif; }
        .logo-placeholder { background-color: #2563EB; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; border-radius: 8px; }
        .flash-message {
            opacity: 1;
            transition: opacity 0.5s ease-out; 
        }
        /* –ñ–∞“£–∞ —Ñ–æ—Ç–æ-–∫–∞—Ä—Ç–æ—á–∫–∞–ª–∞—Ä“ì–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —Å—Ç–∏–ª—å */
        .photo-card {
            background-size: cover;
            background-position: center;
            height: 250px;
            position: relative;
            overflow: hidden;
            border-radius: 1rem; /* rounded-xl */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .photo-card:hover {
            transform: translateY(-5px);
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 50%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1rem;
            color: white;
        }
</style>
</head>
<body>

<nav class="bg-white p-4 text-black shadow-sm border-b border-gray-200">
    <div class="container mx-auto px-4 flex justify-between items-center">
        
        <a href="{{ url_for('index') }}" class="flex items-center">
            <div class="logo-placeholder">A|B</div>
        </a>
        
        <div class="flex space-x-6 items-center">
            <a href="{{ url_for('index') }}" class="text-base font-medium text-blue-600 transition duration-150">–ë–∞—Å—Ç—ã –±–µ—Ç</a>
            <a href="{{ url_for('support') }}" class="text-base font-medium text-gray-800 hover:text-blue-600 transition duration-150">“ö–æ–ª–¥–∞—É</a>
            <a href="{{ url_for('index') }}" class="text-base font-medium text-gray-800 hover:text-blue-600 transition duration-150">–ë—ñ–∑ —Ç—É—Ä–∞–ª—ã</a>

            {% if current_user.is_authenticated %}
                <a href="{{ url_for('dashboard') }}" class="text-base font-medium text-gray-800 hover:text-blue-600 transition duration-150">–ñ–µ–∫–µ –ö–∞–±–∏–Ω–µ—Ç</a>
            {% endif %}
        </div>

        <div class="flex space-x-3 items-center">
            
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div id="flash-container" class="fixed top-4 right-4 z-50 space-y-2">
                    {% for category, message in messages %}
                        <div class="flash-message p-3 text-sm font-medium text-white 
                        {% if category == 'error' or ('“õ–∞—Ç–µ' in message|lower) %}
                            bg-red-600
                        {% else %}
                            bg-green-600
                        {% endif %}
                        rounded-lg shadow-lg">
                            {{ message }}
                        </div>
                    {% endfor %}
                    </div>
                {% endif %}
            {% endwith %}

            <!-- –°–µ–±–µ—Ç —Ç“Ø–π–º–µ—Å—ñ -->
            {% if current_user.is_authenticated %}
                {% set cart_count = session.get('cart') | length if session.get('cart') else 0 %}
                <a href="{{ url_for('checkout') }}" class="relative px-3 py-2 text-gray-700 hover:text-blue-600 transition duration-150">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    {% if cart_count > 0 %}
                        <span class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">{{ cart_count }}</span>
                    {% endif %}
                </a>
            {% endif %}


            <!-- –ö—ñ—Ä—É/–®—ã“ì—É –ª–æ–≥–∏–∫–∞—Å—ã -->
            {% if current_user.is_authenticated %}
                <span class="text-base font-semibold text-gray-800">
                    –°”ô–ª–µ–º, {{ current_user.username }}!
                </span>
                <a href="{{ url_for('logout') }}" class="px-5 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition duration-150 shadow-md font-medium">–®—ã“ì—É</a>
            {% else %}
                <a href="{{ url_for('login') }}" class="px-5 py-2 border border-blue-500 text-blue-500 rounded-lg hover:bg-blue-50 transition duration-150 font-medium">–ö—ñ—Ä—É</a>
                <a href="{{ url_for('signup') }}" class="px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-150 shadow-md font-medium">–¢—ñ—Ä–∫–µ–ª—É</a>
            {% endif %}
        </div>
        
    </div>
</nav>

<main class="container mx-auto px-4 py-12">

    <!-- üõë –ñ–ê“¢–ê –§–û–¢–û-–ö–ê–†–¢–û–ß–ö–ê–õ–ê–† –°–ï–ö–¶–ò–Ø–°–´ -->
    <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
        
        <!-- –ü–∏—Ü—Ü–∞ –ö–∞—Ä—Ç–æ—á–∫–∞—Å—ã -->
        <a href="#–ü–∏—Ü—Ü–∞" class="photo-card" style="background-image: url('{{ url_for('static', filename='images/card1.jpeg') }}')">
            <div class="overlay">
                <h3 class="text-3xl font-bold mb-1">–ü–∏—Ü—Ü–∞</h3>
                <p class="text-base font-medium">–¢–µ–∑ ”ô—Ä—ñ —Ç–æ–π—ã–º–¥—ã —Ç–∞“ì–∞–º–¥–∞—Ä.</p>
            </div>
        </a>
        
        <!-- –†–æ–ª–ª–¥–∞—Ä –ö–∞—Ä—Ç–æ—á–∫–∞—Å—ã -->
        <a href="#–†–æ–ª–ª–¥–∞—Ä" class="photo-card" style="background-image: url('{{ url_for('static', filename='images/card2.jpeg') }}')">
            <div class="overlay">
                <h3 class="text-3xl font-bold mb-1">–†–æ–ª–ª–¥–∞—Ä</h3>
                <p class="text-base font-medium">–¢–∏—ñ–º–¥—ñ –∂”ô–Ω–µ —Ç–æ–π—ã–º–¥—ã</p>
            </div>
        </a>

        <!-- –ë—É—Ä–≥–µ—Ä–ª–µ—Ä –ö–∞—Ä—Ç–æ—á–∫–∞—Å—ã -->
        <a href="#–ë—É—Ä–≥–µ—Ä–ª–µ—Ä" class="photo-card" style="background-image: url('{{ url_for('static', filename='images/card3.jpeg') }}')">
            <div class="overlay">
                <h3 class="text-3xl font-bold mb-1">–ë—É—Ä–≥–µ—Ä–ª–µ—Ä</h3>
                <p class="text-base font-medium">–°“Ø–π—ñ–∫—Ç—ñ –∫–ª–∞—Å—Å–∏–∫–∞</p>
            </div>
        </a>

        <!-- –°–∞–ª–∞—Ç—Ç–∞—Ä –ö–∞—Ä—Ç–æ—á–∫–∞—Å—ã -->
        <a href="#–°–∞–ª–∞—Ç—Ç–∞—Ä" class="photo-card" style="background-image: url('{{ url_for('static', filename='images/card4.jpeg') }}')">
            <div class="overlay">
                <h3 class="text-3xl font-bold mb-1">–°–∞–ª–∞—Ç—Ç–∞—Ä</h3>
                <p class="text-base font-medium">–ü–∞–π–¥–∞–ª—ã ”ô—Ä—ñ –¥“±—Ä—ã—Å —Ç–∞–º–∞“õ—Ç–∞–Ω—É</p>
            </div>
        </a>
    </section>
    <!-- üõë –§–û–¢–û-–ö–ê–†–¢–û–ß–ö–ê–õ–ê–† –°–ï–ö–¶–ò–Ø–°–´ –ê–Ø“ö–¢–ê–õ–î–´ -->

    <!-- –ñ–µ—Ç–∫—ñ–∑—É/”®–∑—ñ–Ω –∞–ª—É —Å–µ–∫—Ü–∏—è—Å—ã (–ë“±–ª –±”©–ª—ñ–∫ ”©–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑) -->
    <section class="mb-8 p-1 bg-gray-100 rounded-lg shadow-inner flex items-center"> 
        
        <div class="flex text-sm font-semibold rounded-lg overflow-hidden border border-gray-400">
            <button id="btn-delivery" class="px-4 py-2 bg-gray-800 text-white shadow-md">–ñ–µ—Ç–∫—ñ–∑—É</button>
            <button id="btn-self-pickup" class="px-4 py-2 bg-white text-gray-800">”®–∑—ñ–Ω –∞–ª—É</button>
        </div>
        
        <div class="flex-grow ml-4 text-gray-500 font-medium" id="delivery-type-label">
            “ö–∞–π –º–µ–∫–µ–Ω–∂–∞–π“ì–∞ –∂–µ—Ç–∫—ñ–∑—É –∫–µ—Ä–µ–∫?
        </div>
        
    </section>

    <!-- –°“Ø–∑–≥—ñ–ª–µ—Ä —Å–µ–∫—Ü–∏—è—Å—ã (–ë“±–ª –±”©–ª—ñ–∫ ”©–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑) -->
    <section class="mb-12"> 
    <div class="flex flex-wrap gap-3 justify-start">
        
        <button class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–°“Ø–∑–≥—ñ–ª–µ—Ä</button>
        
        <a href="#–°–µ—Ç—Ç–µ—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–°–µ—Ç—Ç–µ—Ä</a>
        <a href="#–†–æ–ª–ª–¥–∞—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–†–æ–ª–ª–¥–∞—Ä</a>
        <a href="#–ü–∏—Ü—Ü–∞" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–ü–∏—Ü—Ü–∞</a>
        <a href="#–†–∞–º–µ–Ω" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–†–∞–º–µ–Ω</a>
        <a href="#–ë—É—Ä–≥–µ—Ä–ª–µ—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–ë—É—Ä–≥–µ—Ä–ª–µ—Ä</a>
        <a href="#–´—Å—Ç—ã“õ-—Ç–∞–º–∞“õ—Ç–∞—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–´—Å—Ç—ã“õ —Ç–∞–º–∞“õ—Ç–∞—Ä</a>
        <a href="#–°–∞–ª–∞—Ç—Ç–∞—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–°–∞–ª–∞—Ç—Ç–∞—Ä</a>
        <a href="#–¢–∞“£“ì—ã-–∞—Å—Ç–∞—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–¢–∞“£“ì—ã –∞—Å—Ç–∞—Ä</a>
        <a href="#–°—É—Å—ã–Ω–¥–∞—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–°—É—Å—ã–Ω–¥–∞—Ä</a>
        <a href="#–¢”ô—Ç—Ç—ñ–ª–µ—Ä" class="px-5 py-2 rounded-xl border border-gray-600 text-gray-800 bg-white shadow-sm font-normal hover:bg-gray-50 transition duration-150">–¢”ô—Ç—Ç—ñ–ª–µ—Ä</a>
        
    </div>
</section>
    
    <!-- –¢–ê–ú–ê“ö–¢–ê–†–î–´“¢ –¢–Ü–ó–Ü–ú–Ü–ù –ö”®–†–°–ï–¢–ï–¢–Ü–ù –°–ï–ö–¶–ò–Ø (–ë“±–ª –±”©–ª—ñ–∫ ”©–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑) -->
    <section>
        {% for category, items in categories.items() %}
            <h2 class="text-3xl font-bold text-gray-800 mb-6 mt-8" id="{{ category | replace(' ', '-') }}">{{ category }}</h2>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                
                {% for item in items %}
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 flex flex-col">
                        <img src="{{ url_for('static', filename=item.image_url) }}" alt="{{ item.name }}">
                        
                        <div class="p-4 flex flex-col flex-grow">
                            <h3 class="text-lg font-semibold text-gray-800">{{ item.name }}</h3>
                            <p class="text-sm text-gray-500 mt-1 mb-3">{{ item.description }}</p>
                            
                            <div class="mt-auto flex justify-between items-center pt-3 border-t">
                                <span class="text-xl font-bold text-gray-900">{{ "{:,.0f}".format(item.price) }} ‚Ç∏</span>
                                
                                <!-- –°–µ–±–µ—Ç–∫–µ “õ–æ—Å—É —Ñ–æ—Ä–º–∞—Å—ã -->
                                <form method="POST" action="{{ url_for('add_to_cart') }}">
                                    <input type="hidden" name="item_id" value="{{ item.id }}">
                                    <input type="hidden" name="quantity" value="1"> 
                                    {% if current_user.is_authenticated %}
                                        <button 
                                            type="submit" 
                                            class="bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition duration-150 shadow-md">
                                            –¢–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä—É
                                        </button>
                                    {% else %}
                                        <a href="{{ url_for('login') }}" class="bg-gray-400 text-white px-4 py-2 rounded-lg font-medium cursor-not-allowed">–ö—ñ—Ä—ñ“£—ñ–∑</a>
                                    {% endif %}
                                </form>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    </section>
    
</main>
<script>
    // –ñ–µ—Ç–∫—ñ–∑—É —Ç“Ø—Ä—ñ–Ω —Ç–∞“£–¥–∞—É –ª–æ–≥–∏–∫–∞—Å—ã (—Ç–µ–∫ UI “Ø—à—ñ–Ω)
    document.getElementById('btn-delivery').addEventListener('click', function() {
        document.getElementById('btn-delivery').classList.replace('bg-white', 'bg-gray-800');
        document.getElementById('btn-delivery').classList.replace('text-gray-800', 'text-white');
        document.getElementById('btn-self-pickup').classList.replace('bg-gray-800', 'bg-white');
        document.getElementById('btn-self-pickup').classList.replace('text-white', 'text-gray-800');
        document.getElementById('delivery-type-label').textContent = '“ö–∞–π –º–µ–∫–µ–Ω–∂–∞–π“ì–∞ –∂–µ—Ç–∫—ñ–∑—É –∫–µ—Ä–µ–∫?';
    });

    document.getElementById('btn-self-pickup').addEventListener('click', function() {
        document.getElementById('btn-self-pickup').classList.replace('bg-white', 'bg-gray-800');
        document.getElementById('btn-self-pickup').classList.replace('text-gray-800', 'text-white');
        document.getElementById('btn-delivery').classList.replace('bg-gray-800', 'bg-white');
        document.getElementById('btn-delivery').classList.replace('text-white', 'text-gray-800');
        document.getElementById('delivery-type-label').textContent = '“ö–∞–π –º–µ–∫–µ–º–µ–¥–µ–Ω –∞–ª—ã–ø –∫–µ—Ç–µ—Å—ñ–∑?';
    });
    
    // Flash —Ö–∞–±–∞—Ä–ª–∞–º–∞–ª–∞—Ä–¥—ã –∞–≤—Ç–æ–º–∞—Ç—Ç—ã –∂–∞–±—É
    document.addEventListener('DOMContentLoaded', function() {
        const messages = document.querySelectorAll('.flash-message');
        
        messages.forEach(function(message) {
            // 4 —Å–µ–∫—É–Ω–¥—Ç–∞–Ω –∫–µ–π—ñ–Ω –º”©–ª–¥—ñ—Ä–ª—ñ–∫—Ç—ñ (opacity) 0-–≥–µ ”©–∑–≥–µ—Ä—Ç—É
            setTimeout(function() {
                message.style.opacity = '0';
            }, 4000); 

            // 4.5 —Å–µ–∫—É–Ω–¥—Ç–∞–Ω –∫–µ–π—ñ–Ω —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ DOM-–Ω–∞–Ω —Ç–æ–ª—ã“ì—ã–º–µ–Ω –∂–æ—é
            setTimeout(function() {
                message.remove();
            }, 4500); 
        });
    });

</script>
    <footer class="bg-gray-800 text-white mt-12 py-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <!-- 1. –ö–æ–º–ø–∞–Ω–∏—è –∞—Ç—ã –∂”ô–Ω–µ –∞–≤—Ç–æ—Ä–ª—ã“õ “õ“±“õ—ã“õ -->
                <div>
                    <h3 class="text-2xl font-extrabold text-blue-400 mb-4">A|B —Ç–∞“ì–∞–º –∂–µ—Ç–∫—ñ–∑—É</h3>
                    <p class="text-sm text-gray-400">¬© 2025 A|B</p>
                    <p class="text-sm text-gray-400 mt-2">“ö–∞–∑–∞“õ—Å—Ç–∞–Ω, 010000, –ê—Å—Ç–∞–Ω–∞ “õ.</p>
                </div>

                <!-- 2. –ê“õ–ø–∞—Ä–∞—Ç -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 border-b border-gray-700 pb-1">–ê“õ–ø–∞—Ä–∞—Ç</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="{{ url_for('support') }}" class="hover:text-blue-400 transition duration-150">–ë—ñ–∑ —Ç—É—Ä–∞–ª—ã</a></li>
                        <li><a href="{{ url_for('support') }}" class="hover:text-blue-400 transition duration-150">–ö–æ–Ω—Ç–∞–∫—Ç—ñ–ª–µ—Ä</a></li>
                        <li><a href="#" class="hover:text-blue-400 transition duration-150"></a></li>
                    </ul>
                </div>

                <!-- 3. “ö“±“õ—ã“õ—Ç—ã“õ -->
                <div>
                    <h6 class="text-lg font-semibold mb-4 border-b border-gray-700 pb-1">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h6>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="#" class="hover:text-blue-400 transition duration-150"></a></li>
                        <li><a href="#" class="hover:text-blue-400 transition duration-150"></a></li>
                        <li><a href="#" class="hover:text-blue-400 transition duration-150"></a></li>
                    </ul>
                </div>

                <!-- 4. –ë–∞–π–ª–∞–Ω—ã—Å -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 border-b border-gray-700 pb-1">–ë–∞–π–ª–∞–Ω—ã—Å</h4>
                    <p class="text-sm text-gray-400">–¢–µ–ª–µ—Ñ–æ–Ω:<br> 8 771 328 46 65</p>
                    <p class="text-sm text-gray-400">8 708 833 75 12</p>
                </div>
            </div>

        </div>
    </footer>

</body>
</html>